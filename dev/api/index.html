<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · CooperativeTasks.jl</title><meta name="title" content="API · CooperativeTasks.jl"/><meta property="og:title" content="API · CooperativeTasks.jl"/><meta property="twitter:title" content="API · CooperativeTasks.jl"/><meta name="description" content="Documentation for CooperativeTasks.jl."/><meta property="og:description" content="Documentation for CooperativeTasks.jl."/><meta property="twitter:description" content="Documentation for CooperativeTasks.jl."/><meta property="og:url" content="https://serenity4.github.io/CooperativeTasks.jl/api/"/><meta property="twitter:url" content="https://serenity4.github.io/CooperativeTasks.jl/api/"/><link rel="canonical" href="https://serenity4.github.io/CooperativeTasks.jl/api/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">CooperativeTasks.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li class="is-active"><a class="tocitem" href>API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/serenity4/CooperativeTasks.jl/blob/main/docs/src/api.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><ul><li><a href="#CooperativeTasks.Command"><code>CooperativeTasks.Command</code></a></li><li><a href="#CooperativeTasks.Future"><code>CooperativeTasks.Future</code></a></li><li><a href="#CooperativeTasks.LoopExecution"><code>CooperativeTasks.LoopExecution</code></a></li><li><a href="#CooperativeTasks.Message"><code>CooperativeTasks.Message</code></a></li><li><a href="#CooperativeTasks.SingleExecution"><code>CooperativeTasks.SingleExecution</code></a></li><li><a href="#CooperativeTasks.SpawnOptions"><code>CooperativeTasks.SpawnOptions</code></a></li><li><a href="#CooperativeTasks.TaskException"><code>CooperativeTasks.TaskException</code></a></li><li><a href="#Base.fetch-Tuple{Union{Future, Result{Future}}}"><code>Base.fetch</code></a></li><li><a href="#CooperativeTasks.cancel-Tuple{Task}"><code>CooperativeTasks.cancel</code></a></li><li><a href="#CooperativeTasks.istasksuccessful-Tuple{Task}"><code>CooperativeTasks.istasksuccessful</code></a></li><li><a href="#CooperativeTasks.schedule_shutdown-Tuple{}"><code>CooperativeTasks.schedule_shutdown</code></a></li><li><a href="#CooperativeTasks.shutdown-Tuple{Task}"><code>CooperativeTasks.shutdown</code></a></li><li><a href="#CooperativeTasks.shutdown_owned_tasks-Tuple{}"><code>CooperativeTasks.shutdown_owned_tasks</code></a></li><li><a href="#CooperativeTasks.shutdown_scheduled-Tuple{}"><code>CooperativeTasks.shutdown_scheduled</code></a></li><li><a href="#CooperativeTasks.spawn-Tuple{Any, SpawnOptions}"><code>CooperativeTasks.spawn</code></a></li><li><a href="#CooperativeTasks.tryfetch-Tuple{Union{Future, Result{Future}}}"><code>CooperativeTasks.tryfetch</code></a></li><li><a href="#CooperativeTasks.trysend-Tuple{Task, Message}"><code>CooperativeTasks.trysend</code></a></li><li><a href="#CooperativeTasks.@spawn"><code>CooperativeTasks.@spawn</code></a></li></ul><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.Command" href="#CooperativeTasks.Command"><code>CooperativeTasks.Command</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Execute <code>ret = f()</code> on a task, optionally executing <code>continuation(ret)</code> from the task the message has been sent from.</p><p>First, the command is registered on a source task with a corresponding UUID. Then, as part of a message, it is sent to the destination task for execution, which will send back the value associated with this UUID if any continuation has been provided. If so, when the source task next collects new messages, it will run <code>continuation</code> with the returned value.</p><pre><code class="language-julia hljs">struct Command</code></pre><ul><li><p><code>f::Any</code></p></li><li><p><code>args::Any</code></p></li><li><p><code>kwargs::Any</code></p></li><li><p><code>continuation::Any</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/commands.jl#L22">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.Future" href="#CooperativeTasks.Future"><code>CooperativeTasks.Future</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Operation waiting on another task to produce and return a value.</p><p>The value is accessible using <a href="#Base.fetch-Tuple{Union{Future, Result{Future}}}"><code>fetch</code></a> and <a href="#CooperativeTasks.tryfetch-Tuple{Union{Future, Result{Future}}}"><code>tryfetch</code></a>, with a timeout that may be set as a parameter.</p><pre><code class="language-julia hljs">mutable struct Future</code></pre><ul><li><p><code>uuid::Base.UUID</code></p></li><li><p><code>value::Ref{Any}</code></p></li><li><p><code>from::Task</code></p></li><li><p><code>to::Task</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/commands.jl#L92">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.LoopExecution" href="#CooperativeTasks.LoopExecution"><code>CooperativeTasks.LoopExecution</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Execute a function repeatedly until a shutdown is scheduled with <a href="#CooperativeTasks.schedule_shutdown-Tuple{}"><code>schedule_shutdown</code></a>.</p><p>If <code>period</code> is greater than a millisecond, every iteration may trigger a sleep for the remaining period time after executing the main function. Simple heuristics are used to prevent sleeping when there were recent interactions with other tasks, to avoid suffering from large communication delays.</p><p>At every iteration, task messages will be checked and allow (among other things) to compute/return results to other tasks (see <a href="#CooperativeTasks.Future"><code>Future</code></a>), and to cancel the task. This mode of execution is preferred over manual loops precisely for the ability to satisfy task duties as required in the context of this library.</p><pre><code class="language-julia hljs">struct LoopExecution</code></pre><ul><li><p><code>period::Union{Nothing, Float64}</code></p></li><li><p><code>state::CooperativeTasks.ExecutionState</code></p></li><li><p><code>shutdown::Bool</code>: Whether to call <code>shutdown()</code> on this task after the loop finishes executing.</p><p>Can be useful in contexts where <a href="#CooperativeTasks.SingleExecution"><code>SingleExecution</code></a> and <a href="#CooperativeTasks.LoopExecution"><code>LoopExecution</code></a> are mixed together, to avoid shutting down multiple times.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/execution.jl#L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.Message" href="#CooperativeTasks.Message"><code>CooperativeTasks.Message</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Message sent by a task with an optional payload, identified by a UUID.</p><p>If <code>critical</code> is set to true, it will be processed before all non-critical messages.</p><pre><code class="language-julia hljs">struct Message{T}</code></pre><ul><li><p><code>from::Task</code></p></li><li><p><code>uuid::Base.UUID</code></p></li><li><p><code>payload::Any</code></p></li><li><p><code>critical::Bool</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/messages.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.SingleExecution" href="#CooperativeTasks.SingleExecution"><code>CooperativeTasks.SingleExecution</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Execute a function once, then return.</p><pre><code class="language-julia hljs">struct SingleExecution</code></pre><ul><li><p><code>shutdown::Bool</code>: Whether to call <code>shutdown()</code> on this task after the loop finishes executing.</p><p>Can be useful in contexts where <a href="#CooperativeTasks.SingleExecution"><code>SingleExecution</code></a> and <a href="#CooperativeTasks.LoopExecution"><code>LoopExecution</code></a> are mixed together, to avoid shutting down multiple times.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/execution.jl#L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.SpawnOptions" href="#CooperativeTasks.SpawnOptions"><code>CooperativeTasks.SpawnOptions</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Options for spawning tasks with <a href="#CooperativeTasks.spawn-Tuple{Any, SpawnOptions}"><code>spawn</code></a>.</p><pre><code class="language-julia hljs">struct SpawnOptions</code></pre><ul><li><code>execution_mode::Union{SingleExecution, LoopExecution}</code>: Specifies how the task should be run, via a <a href="#CooperativeTasks.SingleExecution"><code>SingleExecution</code></a> or <a href="#CooperativeTasks.LoopExecution"><code>LoopExecution</code></a> structure.</li></ul><ul><li><p><code>start_threadid::Union{Nothing, Int64}</code>: Optional 1-based thread ID to start the task on.</p><p>If task migration is disabled, then the task will execute on this thread during its entire lifespan. If set to <code>nothing</code> (default), then the starting thread is the same as the thread launching the task.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If task migration is disabled, and no start thread ID has been set, the task will run similarly to an <code>@async</code>-spawned task and execution will never occur in parallel between the spawning task and the spawned task.</p></div></div></li></ul><ul><li><p><code>disallow_task_migration::Bool</code>: Disallow tasks to migrate between Julia threads (<code>false</code> by default).</p><p>When set to <code>false</code>, this corresponds to the behavior of <code>@async</code>, and when set to <code>true</code>, to the behavior of <code>Threads.@spawn</code>.</p><p>Preventing task migration enables the use of <code>Threads.threadid()</code> as an index from the spawned tasks. For example, consider the following pattern:</p><pre><code class="language-julia hljs">const results = [Int[] for i in 1:Threads.nthreads()]

# ...
# Spawn a bunch of tasks.
# ...
# Execute code like the following from these tasks:
push!(results[Threads.threadid()], rand())</code></pre><p>This pattern requires <code>Threads.threadid()</code> to be constant over the entire lifespan of the tasks, which requires task migration to be disabled.</p><p>Disabling task migration can also be useful when e.g. C libraries rely on functions to be executed in the same thread in which some library-defined context has been created, as can be the case for graphics API such as Vulkan or OpenGL.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/spawn.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.TaskException" href="#CooperativeTasks.TaskException"><code>CooperativeTasks.TaskException</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Emitted when a task has failed, for a reason described with its <code>StatusCode</code> and an optional message.</p><pre><code class="language-julia hljs">struct TaskException &lt;: Exception</code></pre><ul><li><p><code>msg::String</code></p></li><li><p><code>code::CooperativeTasks.StatusCode</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/communication.jl#L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.fetch-Tuple{Union{Future, Result{Future}}}" href="#Base.fetch-Tuple{Union{Future, Result{Future}}}"><code>Base.fetch</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Fetch the value of the <code>future</code>, waiting at most <code>timeout</code> seconds if the value is not available yet.</p><p>If <code>sleep_time</code> is nonzero, <code>sleep(sleep_time)</code> will be called while waiting.</p><p>If an error occurs, or <code>timeout</code> seconds have passed without result, an exception will be thrown.</p><pre><code class="language-julia hljs">fetch(
    future::Union{Future, Result{Future}};
    timeout,
    sleep_time
) -&gt; Any
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/commands.jl#L156">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.cancel-Tuple{Task}" href="#CooperativeTasks.cancel-Tuple{Task}"><code>CooperativeTasks.cancel</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Request the task to cancel its execution.</p><pre><code class="language-julia hljs">cancel(task::Task) -&gt; Result{Future, TaskException}
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/communication.jl#L45">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.istasksuccessful-Tuple{Task}" href="#CooperativeTasks.istasksuccessful-Tuple{Task}"><code>CooperativeTasks.istasksuccessful</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Check whether the task has successfully terminated execution.</p><p>By default, an error will be logged if an exception was found; set <code>log = false</code> to prevent that.</p><pre><code class="language-julia hljs">istasksuccessful(task::Task; log) -&gt; Bool
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/error.jl#L42">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.schedule_shutdown-Tuple{}" href="#CooperativeTasks.schedule_shutdown-Tuple{}"><code>CooperativeTasks.schedule_shutdown</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Signal the current task to shut down.</p><p>To check if a task received such a signal, use <a href="#CooperativeTasks.shutdown_scheduled-Tuple{}"><code>shutdown_scheduled</code></a>.</p><pre><code class="language-julia hljs">schedule_shutdown() -&gt; Bool
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/task_state.jl#L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.shutdown-Tuple{Task}" href="#CooperativeTasks.shutdown-Tuple{Task}"><code>CooperativeTasks.shutdown</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Shut down a task by cancelling it if it has not completed.</p><p>See <a href="#CooperativeTasks.cancel-Tuple{Task}"><code>cancel</code></a>.</p><pre><code class="language-julia hljs">shutdown(task::Task) -&gt; CooperativeTasks.Condition
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/communication.jl#L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.shutdown_owned_tasks-Tuple{}" href="#CooperativeTasks.shutdown_owned_tasks-Tuple{}"><code>CooperativeTasks.shutdown_owned_tasks</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Shutdown all children of the current task. Returns a <code>Condition</code> which can be waited on.</p><pre><code class="language-julia hljs">shutdown_owned_tasks() -&gt; CooperativeTasks.Condition
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/ownership.jl#L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.shutdown_scheduled-Tuple{}" href="#CooperativeTasks.shutdown_scheduled-Tuple{}"><code>CooperativeTasks.shutdown_scheduled</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Return whether the current task is scheduled for shutdown with <a href="#CooperativeTasks.schedule_shutdown-Tuple{}"><code>schedule_shutdown</code></a>.</p><p>If this function returns true, the task is responsible for finishing any pending activity and shutting itself down.</p><pre><code class="language-julia hljs">shutdown_scheduled() -&gt; Bool
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/task_state.jl#L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.spawn-Tuple{Any, SpawnOptions}" href="#CooperativeTasks.spawn-Tuple{Any, SpawnOptions}"><code>CooperativeTasks.spawn</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Spawn a new task executing the function <code>f</code>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Depending on the <code>execution_mode</code> parameter of the provided <a href="#CooperativeTasks.SpawnOptions"><code>SpawnOptions</code></a>, <code>f()</code> may be executed multiple times.</p></div></div><pre><code class="language-julia hljs">spawn(f, options::SpawnOptions) -&gt; Task
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/spawn.jl#L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.tryfetch-Tuple{Union{Future, Result{Future}}}" href="#CooperativeTasks.tryfetch-Tuple{Union{Future, Result{Future}}}"><code>CooperativeTasks.tryfetch</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Fetch the value of the <code>future</code>, waiting at most <code>timeout</code> seconds if the value is not available yet.</p><p>If <code>sleep_time</code> is nonzero, <code>sleep(sleep_time)</code> will be called while waiting.</p><p>If an error occurs, or <code>timeout</code> seconds have passed without result, an exception will be returned.</p><p>This performs the same as <a href="#Base.fetch-Tuple{Union{Future, Result{Future}}}"><code>fetch</code></a>, but does not throw and wraps the returned value or exception into a <code>Result</code>.</p><pre><code class="language-julia hljs">tryfetch(
    future::Union{Future, Result{Future}};
    timeout,
    sleep_time
) -&gt; Result{Any, Union{ExecutionError, TaskException}}
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/commands.jl#L139">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.trysend-Tuple{Task, Message}" href="#CooperativeTasks.trysend-Tuple{Task, Message}"><code>CooperativeTasks.trysend</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Send a message <code>m</code> to <code>task</code>, unless the task is dead.</p><pre><code class="language-julia hljs">trysend(
    task::Task,
    m::Message
) -&gt; Result{Future, TaskException}
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/communication.jl#L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="CooperativeTasks.@spawn" href="#CooperativeTasks.@spawn"><code>CooperativeTasks.@spawn</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@spawn [options] $ex
@spawn begin ... end
@spawn :single begin ... end
@spawn :looped begin ... end</code></pre><p>Convenience macro to spawn a task via <a href="#CooperativeTasks.spawn-Tuple{Any, SpawnOptions}"><code>spawn</code></a>, defining a closure over <code>ex</code> as the function to be executed by the task.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/serenity4/CooperativeTasks.jl/blob/6b4b547668068853120ded17f463064f42790697/src/spawn.jl#L58-L65">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/">« Examples</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Wednesday 26 February 2025 11:49">Wednesday 26 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
